<%- include('../header') %>

<div class="row justify-content-center mt-5">
  <div class="col-md-9">
    <a href="/transactions/create" class="btn btn-success"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-file-earmark-plus"
        viewBox="0 0 16 16"
      >
        <path
          d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"
        ></path>
        <path
          d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"
        ></path>
      </svg>
      Tambah Data</a
    >
    <table class="table table-striped table-hover" id="mytable">
      <thead>
        <tr>
          <th scope="col">No</th>
          <th scope="col">Name</th>
          <th scope="col">Payment</th>
          <th scope="col">Buyer</th>
          <th scope="col">Item</th>
          <th scope="col">Price</th>
          <th scope="col">Qty</th>
          <th scope="col">Total</th>
          <th scope="col">Category</th>
        </tr>
      </thead>
      <tbody>
        <% result.forEach((transaction, i) => { %>
        <tr>
          <th scope="row"><%= i + 1 %></th>
          <td class="text-capitalize"><%= transaction.name %></td>
          <td class="text-lowercase"><%= transaction.transaction.payment %></td>
          <td class="text-capitalize"><%= transaction.transaction.member.name %></td>
          <td class="text-capitalize"><%= transaction.product.name %></td>
          <td class="text-capitalize"><%= transaction.product.price %></td>
          <td class="text-capitalize"><%= transaction.qty %></td>
          <td class="text-capitalize"><%= Intl.NumberFormat("id-ID", {
            style: "currency",
            currency: "IDR",
            minimumFractionDigits: 0
          }).format(transaction.total) %></td>
          <td>
            <a
              href="/transactions/edit/<%= transaction.id %>"
              class="badge text-bg-primary text-decoration-none"
              >Edit</a
            >
            |
            <a
              href="/transactions/delete/<%= transaction.id %>"
              class="badge text-bg-danger text-decoration-none"
              >Hapus</a
            >
          </td>
        </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>
